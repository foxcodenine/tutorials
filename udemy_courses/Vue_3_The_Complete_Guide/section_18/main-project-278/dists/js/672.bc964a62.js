"use strict";(self["webpackChunkmain_project_235"]=self["webpackChunkmain_project_235"]||[]).push([[672],{1672:function(i,t,e){e.r(t),e.d(t,{default:function(){return f}});var o=e(3396),s=e(7139),a=e(9242);const n=i=>((0,o.dD)("data-v-479882f2"),i=i(),(0,o.Cn)(),i),r={class:"form-control"},l=n((()=>(0,o._)("label",{for:"email"},"Email",-1))),d={class:"form-control"},u=n((()=>(0,o._)("label",{for:"password"},"Password",-1))),m={key:0};function p(i,t,e,n,p,h){const c=(0,o.up)("base-dialog"),w=(0,o.up)("base-spinner"),g=(0,o.up)("base-button"),f=(0,o.up)("base-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(c,{show:!!p.error,onClose:t[0]||(t[0]=i=>p.error=null),title:"An error occurred!"},{default:(0,o.w5)((()=>[(0,o._)("p",null,(0,s.zw)(p.error),1)])),_:1},8,["show"]),(0,o.Wm)(c,{show:p.isLoading,title:"Authenticatiing...",fixed:""},{default:(0,o.w5)((()=>[(0,o.Wm)(w)])),_:1},8,["show"]),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...i)=>h.submitForm&&h.submitForm(...i)),["prevent"]))},[(0,o._)("div",r,[l,(0,o.wy)((0,o._)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=i=>p.email=i)},null,512),[[a.nr,p.email,void 0,{trim:!0}]])]),(0,o._)("div",d,[u,(0,o.wy)((0,o._)("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=i=>p.password=i)},null,512),[[a.nr,p.password,void 0,{trim:!0}]])]),p.formIsValid?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",m," Please enter a valid email and password (must be at least 6 characters long). ")),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(h.submitButtonCaption),1)])),_:1}),(0,o.Wm)(g,{onClick:h.switchAuthMode,type:"button",mode:"flat"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(h.switchModeButtonCaption),1)])),_:1},8,["onClick"])],32)])),_:1})])}var h=e(65),c={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{...(0,h.nv)({signup:"signup",login:"login"}),async submitForm(){if(this.formIsValid=!0,this.error=null,""===this.email||!this.email.includes("@")||this.password.length<6)this.formIsValid=!1;else{this.isLoading=!0;try{"login"===this.mode?await this.login({email:this.email,password:this.password}):await this.signup({email:this.email,password:this.password});const i=this.$route.query.redirect??"coaches";this.$router.replace({name:i})}catch(i){this.error=i.message||"Failed to authenticate, try later."}finally{this.isLoading=!1}}},switchAuthMode(){this.mode="login"===this.mode?"signup":"login"}}},w=e(89);const g=(0,w.Z)(c,[["render",p],["__scopeId","data-v-479882f2"]]);var f=g}}]);
//# sourceMappingURL=672.bc964a62.js.map